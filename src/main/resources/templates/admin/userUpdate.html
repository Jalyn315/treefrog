<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1,maximum-scale=1, minimum-scale=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Title</title>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/4.3.0/css/bootstrap.css}">
    <link rel="stylesheet" href="/static/css/user.css" th:href="@{/static/css/user.css}">
</head>
<body>
<h2 align="center" th:marginheight="200">编辑我的个人信息</h2>
<div class="div01">
    <div class="pc-kk-form">
        <form th:action="@{/userUpdate/}+${user.id}" method="post">
            <div class="pc-kk-form-list">
                <input type="text" th:placeholder="姓名" name="userName" th:value="${user!=null}?${user.username}">
            </div>
            <div class="pc-kk-form-list pc-kk-form-list-clear">
                <div class="n-select">
                    <input type="text" class="form-control" th:placeholder="出生日期" th:value="${user!=null}?${user.birth}"
                           name="birth">
                </div>
                <div class="nice-select" name="nice-select" style="float:right">
                    <input type="text" th:placeholder="性别" readonly name="sex" th:value="${user!=null}?${user.sex}">
                    <ul>
                        <li data-value="male">男</li>
                        <li data-value="female">女</li>
                    </ul>

                </div>
            </div>
            <div class="pc-kk-form-list">
                <input type="email" th:placeholder="E-mail" th:value="${user!=null}?${user.email}" name="email">
            </div>
            <div class="pc-kk-form-list">
                <input type="tel" th:placeholder="Phone" name="phone" th:value="${user!=null}?${user.phone}">
            </div>
            <div class="pc-kk-form-list" style="height:auto">
                <textarea th:placeholder="个人说明" name="description"
                          th:text="${user!=null}?${user.description}"></textarea>
            </div>
            <!--			隐藏提交用户ID-->
            <input type="hidden" th:value="${session.userId}" name="id">
            <button type="submit" class="btn btn-primary btn-lg btn-block">修改</button>
            <a th:href="@{/logout}" class="btn btn-warning btn-lg btn-block" type="submit">注销登录</a>

        </form>
    </div>
</div>

<script type="text/javascript" src="/js/jquery.js" th:src="@{/js/jquery.js}"></script>
<script>

    $('[name="nice-select"]').click(function (e) {

        $('[name="nice-select"]').find('ul').hide();

        $(this).find('ul').show();

        e.stopPropagation();

    });

    $('[name="nice-select"] li').hover(function (e) {

        $(this).toggleClass('on');

        e.stopPropagation();

    });

    $('[name="nice-select"] li').click(function (e) {

        var val = $(this).text();

        $(this).parents('[name="nice-select"]').find('input').val(val);

        $('[name="nice-select"] ul').hide();

        e.stopPropagation();

    });

    $(document).click(function () {

        $('[name="nice-select"] ul').hide();

    });
</script>
</body>
</html>